<div class="stars" style="text-align: center; margin-top: 10vh">
  <div class="twinkling">
    <div style="text-align: center; margin-top: 5vh;">
      <p>CARGO:</p>
      <p>{{ cargoStr }}</p>
    </div>
    <div style="text-align: center">
      <table
        mat-table
        [dataSource]="transactions"
        class="mat-elevation-z8"
        style="margin-left: auto; margin-right: auto; width: 500px;"
      >
      <ng-container matColumnDef="count">
        <th mat-header-cell *matHeaderCellDef style="text-align: center;">
          <button mat-mini-fab class="btn btn-outline-light btn-custom" (click)="reset()">Reset</button>
        </th>
        <td mat-cell *matCellDef="let transaction; let i = index">
          <button mat-mini-fab class="btn btn-outline-light btn-custom" (click)="decrement(i)">-</button>
          {{ transaction.counter }}
          <button mat-mini-fab class="btn btn-outline-light btn-custom" (click)="increment(i)">+</button>
        </td>
        <td style = "font-weight: bold" mat-footer-cell *matFooterCellDef>
          <mat-form-field color="warn">
          <mat-select [(value)]="buysell">
            <mat-option value="Buy">Buy</mat-option>
            <mat-option value="Sell">Sell</mat-option>
          </mat-select>
        </mat-form-field>
      </td>
      </ng-container>
        <ng-container matColumnDef="item">
          <th mat-header-cell *matHeaderCellDef style="text-align: center;">
            Item
          </th>
          <td mat-cell *matCellDef="let transaction">
            {{ transaction.item }}
          </td>
          <td style = "font-weight: bold" mat-footer-cell *matFooterCellDef>{{ buysell}}: {{ total_counter }}</td>
        </ng-container>
        <ng-container matColumnDef="cost">
          <th mat-header-cell *matHeaderCellDef style="text-align: center;">
            Cost
          </th>
          <td mat-cell *matCellDef="let transaction">
            {{ transaction.cost | currency }}
          </td>
          <td style = "font-weight: bold" mat-footer-cell *matFooterCellDef>{{ total_cost | currency }}</td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        <tr mat-footer-row *matFooterRowDef="displayedColumns"></tr>
      </table>
    </div>
    <button
      class="btn btn-outline-light btn-custom"
      (click)="viewMap()"
      style="margin-top: 20px;"
    >
      Return to Map
    </button>

    <div style="position:absolute; top: 0; left: 5vw;">
      
      <button
      class="btn btn-outline-light btn-custom"
      (click)="buy_sell()"
      style="margin-top: 20px;"
    >
      Confirm
    </button>
      <span style="margin-top: 20px;">
        <p>Credits: {{ globals.player.credits }}</p>
        <p>{{ globals.ship.cargo.length }} / {{ globals.ship.cargo_capacity }}</p>
        <p style = "color: palevioletred;">{{ message }}</p>
      </span>
    </div>

  </div>
</div>
